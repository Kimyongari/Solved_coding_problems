import sys
input = sys.stdin.readline
d = [[(0,0),(0,1),(0,2),(0,3)], [(0,0),(1,0),(2,0),(3,0)], [(0,0),(0,1),(1,0),(1,1)],
     [(0,0),(1,0),(2,0),(2,1)],[(0,0),(0,1),(0,2),(-1,2)],[(0,0),(0,1),(1,1),(2,1)],
     [(0,0),(0,1),(0,2),(1,0)],[(0,0),(1,0),(2,0),(2,-1)],[(0,0),(0,1),(0,2),(1,2)],
     [(0,0),(0,1),(1,0),(2,0)],[(0,0),(1,0),(1,1),(1,2)],
     [(0,0),(1,0),(1,1),(2,1)],[(0,0),(0,1),(-1,1),(-1,2)],[(0,0),(1,0),(1,-1),(2,-1)],
     [(0,0),(0,1),(1,1),(1,2)],[(0,0),(0,1),(0,2),(-1,1)],[(0,0),(1,0),(1,1),(2,0)],
     [(0,0),(0,1),(0,2),(1,1)],[(0,0),(1,0),(1,-1),(2,0)]]

n,m = map(int,input().split())
arr = [list(map(int,input().split())) for _ in range(n)]
answer = 0
for x in range(n):
    for y in range(m):
        for movement in d:
            cnt = 0
            sub = 0
            for move in movement:
                _x,_y = move
                _x, _y = x+_x, y+_y
                if 0<=_x<n and 0<=_y<m:
                    sub += arr[_x][_y]
                    cnt +=1
            if cnt == 4:
                answer = max(sub,answer)
print(answer)